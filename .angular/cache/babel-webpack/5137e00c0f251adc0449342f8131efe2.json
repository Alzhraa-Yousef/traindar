{"ast":null,"code":"import Swal from 'sweetalert2';\nimport 'sweetalert2/src/sweetalert2.scss';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../servises/train.service\";\nimport * as i3 from \"../headerafter/headerafter.component\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../footerafter/footerafter.component\";\n\nfunction TrainCityNameComponent_option_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const TrainID_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(TrainID_r2);\n  }\n}\n\nfunction TrainCityNameComponent_p_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 14);\n    i0.ɵɵtext(1, \"Please select TrainID\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let TrainCityNameComponent = /*#__PURE__*/(() => {\n  class TrainCityNameComponent {\n    constructor(elementRef, router, trainInformation) {\n      this.elementRef = elementRef;\n      this.router = router;\n      this.trainInformation = trainInformation;\n    }\n\n    ngOnInit() {\n      this.session = localStorage.getItem('UserID');\n\n      if (this.session == '') {\n        this.router.navigate(['loginform']);\n      } else {\n        //httpget to get Trainidlist for selectoptions\n        this.trainInformation.GetTrainIDList().subscribe(response => {\n          this.trainIDList = response;\n        }, error => {\n          console.log(error);\n          this.errorMessageID = error; // Swal.fire({\n          //  title: 'Error',\n          //  html: \"Are you sure you want to send the points ?\",\n          //  iconHtml: '<img src=\"../../assets/error.png\">',\n          //  background:'#DFD1A2',\n          //  showCancelButton: true,\n          //  confirmButtonColor: '#F6BC00',\n          //  cancelButtonColor: '#F6BC00',\n          //  cancelButtonText:'No',\n          //  confirmButtonText: 'Yes',\n          //  width:400, })\n        });\n      }\n    }\n\n    getNearstStation() {\n      var selectedIDMenu = this.elementRef.nativeElement.querySelector('#trainIDMenu');\n      var selectedID = selectedIDMenu.options[selectedIDMenu.selectedIndex].text;\n      console.log(selectedID);\n\n      if (selectedID == \"Select train ID\") {\n        console.log(\"no\");\n        this.selectFlag = true;\n      } else {\n        this.trainInformation.GetCityNameTimeList(selectedID, this.session).subscribe(response => {\n          this.StationNameTimeList = response;\n          console.log(this.StationNameTimeList);\n          console.log(this.StationNameTimeList.length);\n        }, error => {\n          console.log(error);\n          this.errorMessageID = error; // Swal.fire({\n          //  title: 'Error',\n          //  html: this.errorMessageID,//\"Are you sure you want to send the points ?\"\n          //  iconHtml: '<img src=\"../../assets/error.png\">',\n          //  background:'#DFD1A2',\n          //  showCancelButton: true,\n          //  confirmButtonColor: '#F6BC00',\n          //  cancelButtonColor: '#F6BC00',\n          //  cancelButtonText:'No',\n          //  confirmButtonText: 'Yes',\n          //  width:400, })\n        }, () => {\n          this.selectFlag = false;\n          const element = document.getElementById('row3');\n          element.innerHTML = '';\n\n          if (this.StationNameTimeList.length < 1) {\n            Swal.fire({\n              title: 'Error',\n              html: \"There is no available Trains for selected cities\",\n              iconHtml: '<img src=\"../../assets/error.png\">',\n              //background:'#DFD1A2',\n              showCancelButton: true,\n              confirmButtonColor: '#F6BC00',\n              cancelButtonColor: '#F6BC00',\n              cancelButtonText: 'No',\n              confirmButtonText: 'Yes',\n              width: 400\n            });\n          } else {\n            const table = document.createElement('table');\n            table.style.borderCollapse = 'separate';\n            table.style.borderSpacing = '1px';\n            const TRtitle = document.createElement('tr');\n            const tdtitle1 = document.createElement('td');\n            const tdtitle2 = document.createElement('td');\n            tdtitle1.style.border = '1px solid black';\n            tdtitle2.style.border = '1px solid black';\n            tdtitle1.style.background = '#DFD1A2';\n            tdtitle2.style.background = '#DFD1A2';\n            tdtitle1.style.width = '150px';\n            tdtitle2.style.width = '150px';\n            tdtitle1.style.textAlign = 'center';\n            tdtitle2.style.textAlign = 'center';\n            tdtitle1.style.borderTopLeftRadius = '30px';\n            tdtitle2.style.borderTopRightRadius = '30px';\n            const tdtitleTEXT1 = document.createTextNode('Train ID');\n            const tdtitleTEXT2 = document.createTextNode('Remaining Time(hr)');\n            tdtitle1.appendChild(tdtitleTEXT1);\n            tdtitle2.appendChild(tdtitleTEXT2);\n            TRtitle.appendChild(tdtitle1);\n            TRtitle.appendChild(tdtitle2);\n            table.appendChild(TRtitle);\n            element.appendChild(table);\n\n            for (var i = 0; i < this.StationNameTimeList.length; i++) {\n              const TRi = document.createElement('tr');\n              const tdName = document.createElement('td');\n              const tdTime = document.createElement('td');\n              const TextName = document.createTextNode(this.StationNameTimeList[i].name.toString());\n              const TextTime = document.createTextNode(this.StationNameTimeList[i].timeLeft.toString());\n              tdName.style.border = '1px solid black';\n              tdTime.style.border = '1px solid black';\n              tdName.style.background = '#DFD1A2';\n              tdTime.style.background = '#DFD1A2';\n              tdName.style.width = '150px';\n              tdTime.style.width = '150px';\n              tdName.style.textAlign = 'center';\n              tdTime.style.textAlign = 'center';\n              tdName.appendChild(TextName);\n              tdTime.appendChild(TextTime);\n              TRi.appendChild(tdName);\n              TRi.appendChild(tdTime);\n              table.appendChild(TRi);\n              tdName.style.cursor = 'pointer';\n\n              if (i == this.StationNameTimeList.length - 1) {\n                var listitems = document.getElementsByTagName('td');\n                listitems[listitems.length - 1].style.borderBottomRightRadius = \"30px\";\n                listitems[listitems.length - 2].style.borderBottomLeftRadius = \"30px\";\n              }\n            }\n          }\n        });\n      }\n    }\n\n  }\n\n  TrainCityNameComponent.ɵfac = function TrainCityNameComponent_Factory(t) {\n    return new (t || TrainCityNameComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.TrainService));\n  };\n\n  TrainCityNameComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TrainCityNameComponent,\n    selectors: [[\"app-train-city-name\"]],\n    decls: 36,\n    vars: 2,\n    consts: [[1, \"background\"], [1, \"row\", \"row1\"], [1, \"col-md-12\", \"d-flex\", \"justify-content-center\"], [\"name\", \"trainIDMenu\", \"id\", \"trainIDMenu\", \"aria-label\", \"Default select example\", 1, \"form-select\"], [\"selected\", \"\", \"disabled\", \"\"], [\"value\", \"TrainID\", 4, \"ngFor\", \"ngForOf\"], [1, \"row\", \"row2\"], [1, \"btn\", \"btn2\", 3, \"click\"], [1, \"row\", \"row2\", \"mt-2\"], [\"style\", \"color: red;font-size:18px;\", 4, \"ngIf\"], [1, \"row\", \"row3\"], [\"id\", \"row3\", 1, \"col-md-12\", \"d-flex\", \"justify-content-center\"], [\"id\", \"brr\"], [\"value\", \"TrainID\"], [2, \"color\", \"red\", \"font-size\", \"18px\"]],\n    template: function TrainCityNameComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0);\n        i0.ɵɵelement(1, \"app-headerafter\");\n        i0.ɵɵelement(2, \"br\");\n        i0.ɵɵelement(3, \"br\");\n        i0.ɵɵelement(4, \"br\");\n        i0.ɵɵelement(5, \"br\");\n        i0.ɵɵelement(6, \"br\");\n        i0.ɵɵelement(7, \"br\");\n        i0.ɵɵelement(8, \"br\");\n        i0.ɵɵelementStart(9, \"div\", 1);\n        i0.ɵɵelementStart(10, \"div\", 2);\n        i0.ɵɵelementStart(11, \"select\", 3);\n        i0.ɵɵelementStart(12, \"option\", 4);\n        i0.ɵɵtext(13, \" Select train ID\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(14, TrainCityNameComponent_option_14_Template, 2, 1, \"option\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"div\", 6);\n        i0.ɵɵelementStart(16, \"div\", 2);\n        i0.ɵɵelementStart(17, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function TrainCityNameComponent_Template_button_click_17_listener() {\n          return ctx.getNearstStation();\n        });\n        i0.ɵɵtext(18, \"Search\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 8);\n        i0.ɵɵelementStart(20, \"div\", 2);\n        i0.ɵɵtemplate(21, TrainCityNameComponent_p_21_Template, 2, 0, \"p\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(22, \"br\");\n        i0.ɵɵelementStart(23, \"div\", 10);\n        i0.ɵɵelement(24, \"div\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 12);\n        i0.ɵɵelement(26, \"br\");\n        i0.ɵɵelement(27, \"br\");\n        i0.ɵɵelement(28, \"br\");\n        i0.ɵɵelement(29, \"br\");\n        i0.ɵɵelement(30, \"br\");\n        i0.ɵɵelement(31, \"br\");\n        i0.ɵɵelement(32, \"br\");\n        i0.ɵɵelement(33, \"br\");\n        i0.ɵɵelement(34, \"br\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(35, \"app-footerafter\");\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"ngForOf\", ctx.trainIDList);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectFlag);\n      }\n    },\n    directives: [i3.HeaderafterComponent, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i5.NgForOf, i5.NgIf, i6.FooterafterComponent],\n    styles: [\".btn2[_ngcontent-%COMP%]{background-color:#eaca60;border-radius:25px;width:150px;margin-top:10px}#trainIDMenu[_ngcontent-%COMP%]{width:320px;border-radius:20px}.row1[_ngcontent-%COMP%], .row2[_ngcontent-%COMP%], .row3[_ngcontent-%COMP%]{top:40%;left:40%}\"]\n  });\n  return TrainCityNameComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}